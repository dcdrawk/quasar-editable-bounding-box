import{c as F,h as X}from"./render.4f2e3b6a.js";import{e as Q,f as y,j as Y,k as P,c as $,h as S,g as W,ad as L,ae as q,E as T,r as v,w as b}from"./index.0e31d615.js";var O=F({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:o}){const{proxy:{$q:t}}=W(),n=Q(Y,y);if(n===y)return console.error("QPage needs to be a deep child of QLayout"),y;if(Q(P,y)===y)return console.error("QPage needs to be child of QPageContainer"),y;const l=$(()=>{const r=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const i=n.isContainer.value===!0?n.containerHeight.value:t.screen.height;return e.styleFn(r,i)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-r+"px":t.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":t.screen.height-r+"px"}}),a=$(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>S("main",{class:a.value,style:l.value},X(o.default))}});function j(e){return L()?(q(e),!0):!1}function w(e){return typeof e=="function"?e():T(e)}const x=typeof window!="undefined",z=()=>{};function B(e){var o;const t=w(e);return(o=t==null?void 0:t.$el)!=null?o:t}const C=x?window:void 0;x&&window.document;x&&window.navigator;x&&window.location;function g(...e){let o,t,n,c;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,n,c]=e,o=C):[o,t,n,c]=e,!o)return z;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const l=[],a=()=>{l.forEach(u=>u()),l.length=0},r=(u,f,d,h)=>(u.addEventListener(f,d,h),()=>u.removeEventListener(f,d,h)),i=b(()=>[B(o),w(c)],([u,f])=>{a(),u&&l.push(...t.flatMap(d=>n.map(h=>r(u,d,h,f))))},{immediate:!0,flush:"post"}),p=()=>{i(),a()};return j(p),p}const D={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function V(e={}){const{type:o="page",touch:t=!0,resetOnTouchEnds:n=!1,initialValue:c={x:0,y:0},window:l=C,target:a=l,eventFilter:r}=e,i=v(c.x),p=v(c.y),u=v(null),f=typeof o=="function"?o:D[o],d=s=>{const m=f(s);m&&([i.value,p.value]=m,u.value="mouse")},h=s=>{if(s.touches.length>0){const m=f(s.touches[0]);m&&([i.value,p.value]=m,u.value="touch")}},A=()=>{i.value=c.x,p.value=c.y},E=r?s=>r(()=>d(s),{}):s=>d(s),H=r?s=>r(()=>h(s),{}):s=>h(s);return a&&(g(a,"mousemove",E,{passive:!0}),g(a,"dragover",E,{passive:!0}),t&&o!=="movement"&&(g(a,"touchstart",H,{passive:!0}),g(a,"touchmove",H,{passive:!0}),n&&g(a,"touchend",A,{passive:!0}))),{x:i,y:p,sourceType:u}}function k({window:e=C}={}){if(!e)return{x:v(0),y:v(0)};const o=v(e.scrollX),t=v(e.scrollY);return g(e,"scroll",()=>{o.value=e.scrollX,t.value=e.scrollY},{capture:!1,passive:!0}),{x:o,y:t}}export{O as Q,k as a,V as u};
